---
import type { Decimal } from 'schema'

import { formatCurrency } from '~/utils'

interface Props {
  link: string
  product: {
    id: string
    name: string
    image: string
    price: Decimal
  }
}

const { link, product } = Astro.props
---

<a class='group' href={link}>
  <div
    class='aspect-h-1 aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 w-full overflow-hidden rounded-lg bg-gray-200'
  >
    <img
      alt={product.name}
      class='h-full w-full object-cover object-center group-hover:opacity-75'
      src={product.image}
      transition:name={`product-image-${product.id}`}
    />
  </div>
  <h3 class='mt-4 text-sm text-gray-700'>{product.name}</h3>
  <p class='mt-1 text-lg font-medium slashed-zero text-gray-900'>
    {formatCurrency(product.price)}
  </p>
</a>
